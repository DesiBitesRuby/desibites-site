<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Cart ‚Äì Desi Bites</title>
  <style>
       body {
      font-family: 'Poppins', sans-serif;
      background: url('image/YellowGreen.jpg') center/cover no-repeat; padding: 10px;
      color: #333;
      display: flex;
      min-height: 100vh;
    }
    /* Navbar */
   .navbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 60px;
  background-color: #A8323E;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  color: white;
  z-index: 1000;
}

.navbar .navbar-container {
  display: flex;
  align-items: center;
}

.navbar-logo {
  display: flex;
  align-items: center;
  text-decoration: none;
}

.navbar-logo img {
  height: 36px; /* fix image size here */
  width: auto;
  margin-right: 10px;
}

.logo-text {
  font-size: 20px;
  font-weight: 600;
  color: white;
}

.navbar a {
  color: white;
  text-decoration: none;
  margin-left: 20px;
  font-weight: bold;
  font-size: 14px;
}
    /* Sidebar */
    .sidebar {
      position: fixed;
      top: 60px;
      left: 0;
      width: 200px;
      height: calc(100% - 60px);
      background: #fff;
      padding: 20px;
      box-shadow: 2px 0 8px rgba(0,0,0,0.1);
      z-index: 999;
    }
    .sidebar a {
      display: block;
      margin-bottom: 15px;
      color: #7BAE7F;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s ease;
      font-size: 15px;
    }
    .sidebar a:hover {
      color: #5D8D61;
    }
    /* Cart Content */
    #cartContent {
      margin-left: 220px;
      margin-top: 80px;
      max-width: 700px;
      padding: 20px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
        /* NEW: Center the content in the available space */
  margin-right: auto;
  margin-left: calc(220px + ((100% - 220px - 700px) / 2)); 
    }
    /* Responsive tweak for mobile: take full width below the sidebar */
@media (max-width: 768px) {
  #cartContent {
    margin-left: auto;
    margin-right: auto;
    width: 90%;
    margin-top: 140px;
  }
}
    h1.cart-heading {
      text-align: center;
      color: #7BAE7F;
      margin-bottom: 20px;
      font-size: 26px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
    }
    th, td {
      padding: 12px 10px;
      border-bottom: 1px solid #eee;
      text-align: left;
      font-size: 15px;
    }
    th {
      background-color: #f8f8f8;
      color: #7BAE7F;
    }
    .total {
      text-align: right;
      font-size: 18px;
      margin-top: 15px;
    }
    .checkout-btn, .clear-btn, .add-more-btn {
      display: block;
      width: 90%;
      margin: 15px auto;
      padding: 12px 0;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      text-align: center;
      transition: background-color 0.3s;
    }
    .checkout-btn {
      background-color: #e67e22;
    }
    .checkout-btn:hover {
      background-color: #d35400;
    }
    .clear-btn {
      background-color: #c0392b;
    }
    .clear-btn:hover {
      background-color: #e74c3c;
    }
    .add-more-btn {
      background-color: #7BAE7F;
    }
    .add-more-btn:hover {
      background-color: #5D8D61;
    }
    .empty-message {
      text-align: center;
      font-size: 18px;
      margin-top: 50px;
    }
    .remove-btn {
      background: none;
      color: red;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }
    /* Clear Cart Popup */
    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: 100vw;
      background: rgba(0,0,0,0.7);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 10000;
    }
    .popup-content {
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
      text-align: center;
      width: 90%;
      max-width: 400px;
    }
    .popup-buttons {
      margin-top: 20px;
    }
    .yes-btn, .no-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      margin: 0 10px;
    }
    .yes-btn {
      background-color: #c0392b;
      color: white;
    }
    .yes-btn:hover {
      background-color: #e74c3c;
    }
    .no-btn {
      background-color: #bdc3c7;
      color: #333;
    }
    .no-btn:hover {
      background-color: #95a5a6;
    }
    /* Responsive Tweaks */
    @media (max-width: 768px) {
      .sidebar {
        position: relative;
        width: 100%;
        height: auto;
        top: 60px;
        display: flex;
        flex-wrap: wrap;
        padding: 10px;
        justify-content: center;
      }
      .sidebar a {
        margin: 10px;
      }
      #cartContent {
        margin-left: 0;
        margin-top: 140px;
        width: 90%;
      }
      .navbar h1 {
        font-size: 18px;
      }
    }
  </style>
</head>
<body onload="renderCart(); updateCartCount();">
  <!-- Navbar -->
  <div class="navbar">
  <div class="navbar-container">
    <a href="index.html" class="navbar-logo">
      <img src="image/DesiBitesLogowithorange.jpg" alt="Desi Bites Logo">
      <span class="logo-text">Desi Bites</span>
    </a>
  </div>
  <div>
  
    <div>
      <a href="index.html">Home</a>
      <a href="menu.html">Menu</a>
      <a href="Catering.html">Catering</a>
      <a href="Cart.html"> üõí Cart (<span id="cartCount">0</span>)</a>
      <a href="menu.html#contact">Contact Us</a>
    </div>
  </div>
</div>

  <!-- Sidebar -->
  <div class="sidebar">
       <a href="menu.html">üßæ Place Order</a>
    <a href="Catering.html">üë®‚Äçüç≥ Catering</a>
    <a href="menu.html">üìú Full Menu</a>
    <a href="index.html#testimonials">üí¨ Testimonials</a>
     <a href="AboutUs.html">üôã‚Äç‚ôÄÔ∏èAboutUs</a>
    <a href="menu.html#contact">üìû Contact Us</a>
  </div>

  <!-- Cart Content -->
  <div id="cartContent">
    <h1 class="cart-heading">üõí Your Cart</h1>
  </div>

  <!-- Clear Cart Confirmation Popup -->
  <div id="clearCartPopup" class="popup-overlay">
    <div class="popup-content">
      <h2>Clear Cart?</h2>
      <p>Are you sure you want to remove all items from your cart?</p>
      <div class="popup-buttons">
        <button onclick="confirmClearCart()" class="yes-btn">Yes, Clear</button>
        <button onclick="closeClearCartPopup()" class="no-btn">Cancel</button>
      </div>
    </div>
  </div>

  <script>
    let cartData = JSON.parse(localStorage.getItem('desiBiteCart')) || [];
    function renderCart() {
      const cartContent = document.getElementById('cartContent');
      if (!cartData || cartData.length === 0) {
        cartContent.innerHTML += `<p class="empty-message">Your cart is empty. <a href="menu.html">Go back to menu</a>.</p>`;
        return;
      }
      let tableHTML = `
        <table>
          <tr>
            <th>Item</th>
            <th>Price</th>
            <th>Qty</th>
            <th>Subtotal</th>
            <th>Action</th>
          </tr>`;
      let total = 0;
      cartData.forEach((item, index) => {
        const subtotal = item.price * item.quantity;
        total += subtotal;
        tableHTML += `
          <tr>
            <td>${item.name}</td>
            <td>$${item.price.toFixed(2)}</td>
            <td>${item.quantity}</td>
            <td>$${subtotal.toFixed(2)}</td>
            <td><button class="remove-btn" onclick="removeItem(${menu})">Remove</button></td>
          </tr>`;
      });
      tableHTML += `</table>`;
      cartContent.innerHTML += tableHTML + `
        <div class="total"><strong>Total: $${total.toFixed(2)}</strong></div>
        <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
        <button class="add-more-btn" onclick="window.location.href='menu.html#menu'">Add More Items</button>
        <button class="clear-btn" onclick="showClearCartPopup()">Clear Cart</button>`;
    }
    function removeItem(index) {
      cartData.splice(index, 1);
      localStorage.setItem('desiBiteCart', JSON.stringify(cartData));
      location.reload();
    }
    function checkout() {
      window.location.href = 'OrderForm.html';
    }
    function showClearCartPopup() {
      document.getElementById('clearCartPopup').style.display = 'flex';
    }
    function closeClearCartPopup() {
      document.getElementById('clearCartPopup').style.display = 'none';
    }
    function confirmClearCart() {
      localStorage.removeItem('desiBiteCart');
      cartData = [];
      location.reload();
    }
    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem("desiBiteCart")) || [];
      const totalCount = cart.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById("cartCount").textContent = totalCount;
    }
  </script>
</body>
</html>
